<div class="comments-container">
  <h3>Comments</h3>

  <div *ngIf="isLoading()" class="loading">Loading comments...</div>
  <div *ngIf="errorMessage()" class="error">{{ errorMessage() }}</div>

  <div *ngIf="!isLoading() && comments().length === 0" class="no-comments">
    No comments yet.
  </div>

  <div *ngFor="let comment of comments()" class="comment-card">
    <p><strong>{{ comment.username || 'Unknown' }}</strong> - {{ comment.createdAt | date:'short' }}</p>
    <p>{{ comment.text }}</p>
  </div>

  <div class="pagination">
    <button (click)="prevPage()" [disabled]="currentPage() === 1">Prev</button>
    <span>Page {{ currentPage() }}</span>
    <button (click)="nextPage()" [disabled]="comments().length < commentsPerPage">Next</button>
  </div>

  <div *ngIf="authService.isLoggedIn()" class="new-comment">
    <textarea [(ngModel)]="newComment()" placeholder="Write a comment..."></textarea>
    <button (click)="addComment()">Post Comment</button>
  </div>
</div>
